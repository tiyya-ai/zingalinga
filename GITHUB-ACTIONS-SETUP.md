# ๐ ุฅุนุฏุงุฏ GitHub Actions ูููุดุฑ ุงูุชููุงุฆู

## ๐ ูุธุฑุฉ ุนุงูุฉ

ุชู ุฅูุดุงุก ูุธุงู ูุดุฑ ุชููุงุฆู ูุชูุฏู ุจุงุณุชุฎุฏุงู GitHub Actions ูููู ุจูุดุฑ ูููุน Zinga Linga ุชููุงุฆูุงู ุนูุฏ ูู push ุฅูู ูุฑุน main/master.

## ๐ง ุฎุทูุงุช ุงูุฅุนุฏุงุฏ

### 1. ุฅุนุฏุงุฏ GitHub Repository

```bash
# ุฅุฐุง ูู ุชูู ูุฏ ุฑุจุทุช ุงููุดุฑูุน ุจู GitHub ุจุนุฏ
git init
git add .
git commit -m "Initial commit: Zinga Linga project with auto-deployment"
git branch -M main
git remote add origin https://github.com/YOUR_USERNAME/zinga-linga-nextjs.git
git push -u origin main
```

### 2. ุฅุนุฏุงุฏ SSH Key ููู VPS

#### ุฃ. ุฅูุดุงุก SSH Key ุฌุฏูุฏ (ุฅุฐุง ูู ููู ููุฌูุฏ)

```bash
# ุนูู ุฌูุงุฒู ุงููุญูู
ssh-keygen -t rsa -b 4096 -C "github-actions@zingalinga.io"
# ุงุญูุธ ุงูููุชุงุญ ูู: ~/.ssh/zinga_linga_deploy
```

#### ุจ. ุฅุถุงูุฉ ุงูููุชุงุญ ุงูุนุงู ุฅูู VPS

```bash
# ูุณุฎ ุงูููุชุงุญ ุงูุนุงู
cat ~/.ssh/zinga_linga_deploy.pub

# ุงูุงุชุตุงู ุจู VPS ูุฅุถุงูุฉ ุงูููุชุงุญ
ssh root@109.199.106.28
mkdir -p ~/.ssh
echo "YOUR_PUBLIC_KEY_HERE" >> ~/.ssh/authorized_keys
chmod 600 ~/.ssh/authorized_keys
chmod 700 ~/.ssh
```

### 3. ุฅุนุฏุงุฏ GitHub Secrets

ุงุฐูุจ ุฅูู ุฅุนุฏุงุฏุงุช ูุณุชูุฏุน GitHub:
`Settings` โ `Secrets and variables` โ `Actions` โ `New repository secret`

ุฃุถู ุงูุฃุณุฑุงุฑ ุงูุชุงููุฉ:

| ุงุณู ุงูุณุฑ | ุงููููุฉ | ุงููุตู |
|----------|--------|--------|
| `VPS_HOST` | `109.199.106.28` | ุนููุงู IP ุงูุฎุงุต ุจู VPS |
| `VPS_USER` | `root` | ุงุณู ุงููุณุชุฎุฏู |
| `VPS_SSH_KEY` | `ูุญุชูู ุงูููุชุงุญ ุงูุฎุงุต` | ุงูููุชุงุญ ุงูุฎุงุต SSH |

#### ููููุฉ ุงูุญุตูู ุนูู ุงูููุชุงุญ ุงูุฎุงุต:

```bash
# ุนุฑุถ ุงูููุชุงุญ ุงูุฎุงุต
cat ~/.ssh/zinga_linga_deploy

# ุงูุณุฎ ุงููุญุชูู ูุงููุงู ุจูุง ูู ุฐูู:
# -----BEGIN OPENSSH PRIVATE KEY-----
# ... ูุญุชูู ุงูููุชุงุญ ...
# -----END OPENSSH PRIVATE KEY-----
```

### 4. ุฅุนุฏุงุฏ VPS ูููุดุฑ ุงูุชููุงุฆู

```bash
# ุงูุงุชุตุงู ุจู VPS
ssh root@109.199.106.28

# ุชุซุจูุช Node.js (ุฅุฐุง ูู ููู ูุซุจุช)
curl -fsSL https://deb.nodesource.com/setup_18.x | sudo -E bash -
apt-get install -y nodejs

# ุชุซุจูุช PM2
npm install -g pm2

# ุฅูุดุงุก ูุฌูุฏ ุงูุชุทุจูู
mkdir -p /var/www/zinga-linga
chown -R $USER:$USER /var/www/zinga-linga

# ุฅุนุฏุงุฏ PM2 ููุชุดุบูู ุงูุชููุงุฆู
pm2 startup
pm2 save
```

## ๐ฏ ููู ูุนูู ุงููุธุงู

### ุนูุฏ ูู Push ุฅูู main/master:

1. **๐ฅ ุณุญุจ ุงูููุฏ** ูู GitHub
2. **๐ง ุชุซุจูุช ุงูุชุจุนูุงุช** (`npm ci`)
3. **๐๏ธ ุจูุงุก ุงูุชุทุจูู** (`npm run build`)
4. **๐ฆ ุฅูุดุงุก ุญุฒูุฉ ุงููุดุฑ** (ุถุบุท ุงููููุงุช ุงููุทููุจุฉ)
5. **โฌ๏ธ ุฑูุน ุงูุญุฒูุฉ** ุฅูู VPS ุนุจุฑ SCP
6. **๐ ุงููุดุฑ ุนูู VPS**:
   - ุฅููุงู ุงูุชุทุจูู ุงูุญุงูู
   - ุงุณุชุฎุฑุงุฌ ุงููููุงุช ุงูุฌุฏูุฏุฉ
   - ุชุซุจูุช ุงูุชุจุนูุงุช
   - ุชุดุบูู ุงูุชุทุจูู ูุน PM2
7. **โ ุงูุชุญูู ูู ุงููุดุฑ** ูุงูุฅุดุนุงุฑ ุจุงููุชูุฌุฉ

### ุงููููุฒุงุช ุงููุชูุฏูุฉ:

- ๐ **ูุณุฎ ุงุญุชูุงุทูุฉ ุชููุงุฆูุฉ** ูุจู ูู ูุดุฑ
- ๐งน **ุชูุธูู ุฐูู** ูููููุงุช ุงููุฏููุฉ
- ๐ **ุชูุงุฑูุฑ ููุตูุฉ** ููู ุนูููุฉ ูุดุฑ
- โก **ูุดุฑ ุณุฑูุน** (ูุญุชูุธ ุจู node_modules)
- ๐ **ูุญุต ุตุญุฉ ุงูุชุทุจูู** ุจุนุฏ ุงููุดุฑ

## ๐ ูุฑุงูุจุฉ ุงููุดุฑ

### ุนุฑุถ ุณุฌูุงุช GitHub Actions

1. ุงุฐูุจ ุฅูู ุชุจููุจ `Actions` ูู ูุณุชูุฏุน GitHub
2. ุงุฎุชุฑ ุขุฎุฑ workflow run
3. ุฑุงูุจ ุชูุฏู ูู ุฎุทูุฉ ูู ุงูููุช ุงููุนูู

### ูุญุต ุงูุชุทุจูู ุนูู VPS

```bash
# ูุญุต ุญุงูุฉ PM2
ssh root@109.199.106.28 "pm2 status"

# ุนุฑุถ ุณุฌูุงุช ุงูุชุทุจูู
ssh root@109.199.106.28 "pm2 logs zinga-linga"

# ูุญุต ุงููุตูู ูููููุน
curl -I http://zingalinga.io
```

## ๐๏ธ ุงุณุชูุดุงู ุงูุฃุฎุทุงุก

### ูุดุงูู ุดุงุฆุนุฉ ูุญููููุง:

#### 1. ุฎุทุฃ ูู SSH Connection
```bash
# ุชุฃูุฏ ูู ุตุญุฉ ุงูููุชุงุญ
ssh -i ~/.ssh/zinga_linga_deploy root@109.199.106.28

# ุฅุนุงุฏุฉ ุฅุถุงูุฉ ุงูููุชุงุญ ุงูุนุงู ุฅูู VPS
```

#### 2. ูุดู ูู ุงูุจูุงุก
```bash
# ุชุฃูุฏ ูู ุนุฏู ูุฌูุฏ ุฃุฎุทุงุก ูู ุงูููุฏ ูุญููุงู
npm run build

# ุชุญูู ูู ุฅุนุฏุงุฏุงุช Node.js ุนูู VPS
```

#### 3. ูุดุงูู PM2
```bash
# ุฅุนุงุฏุฉ ุชุดุบูู PM2
ssh root@109.199.106.28 "pm2 restart zinga-linga"

# ุฅุนุงุฏุฉ ุชุญููู ุฅุนุฏุงุฏุงุช PM2
ssh root@109.199.106.28 "pm2 reload zinga-linga"
```

## ๐ ุงูุฃูุงู

### ุฃูุถู ุงูููุงุฑุณุงุช:

- โ ุงุณุชุฎุฏู ููุงุชูุญ SSH ูููุตูุฉ ูููุดุฑ
- โ ูููุฏ ุตูุงุญูุงุช ุงูููุชุงุญ ุนูู VPS
- โ ุฑุงูุจ ุณุฌูุงุช ุงููุดุฑ ุจุงูุชุธุงู
- โ ุงุณุชุฎุฏู ูุฑูุน ูููุตูุฉ ููุชุทููุฑ
- โ ุงุฎุชุจุฑ ุงูุชุบููุฑุงุช ูุจู ุงูุฏูุฌ ูู main

### ุฅุนุฏุงุฏุงุช ุฃูุงู ุฅุถุงููุฉ:

```bash
# ุนูู VPS - ุชูููุฏ ุตูุงุญูุงุช SSH
echo 'command="cd /var/www/zinga-linga && $SSH_ORIGINAL_COMMAND" YOUR_PUBLIC_KEY' >> ~/.ssh/authorized_keys
```

## ๐ ูุฑุงูุจุฉ ุงูุฃุฏุงุก

### ุฅุนุฏุงุฏ ูุฑุงูุจุฉ ุชููุงุฆูุฉ:

```bash
# ุนูู VPS - ุฅุนุฏุงุฏ ูุฑุงูุจุฉ PM2
pm2 install pm2-server-monit

# ุฅุนุฏุงุฏ ุชูุจููุงุช
pm2 set pm2-server-monit:conf '{"email": "admin@zingalinga.io"}'
```

## ๐ ุงุฎุชุจุงุฑ ุงููุธุงู

### ุงุฎุชุจุงุฑ ุงููุดุฑ ุงูุชููุงุฆู:

1. **ูู ุจุชุนุฏูู ุจุณูุท** ูู ุงูููุฏ
2. **ุงุนูู commit ู push**:
   ```bash
   git add .
   git commit -m "Test auto-deployment"
   git push origin main
   ```
3. **ุฑุงูุจ ุชุจููุจ Actions** ูู GitHub
4. **ุชุญูู ูู ุงููููุน** ุนูู http://zingalinga.io

## ๐ ุงูุฏุนู

ูู ุญุงูุฉ ููุงุฌูุฉ ูุดุงูู:

1. **ุชุญูู ูู ุณุฌูุงุช GitHub Actions**
2. **ูุญุต ุณุฌูุงุช VPS**: `ssh root@109.199.106.28 "pm2 logs zinga-linga"`
3. **ุชุฃูุฏ ูู ุตุญุฉ GitHub Secrets**
4. **ุงุฎุชุจุฑ ุงูุงุชุตุงู SSH ูุฏููุงู**

---

## ๐ฏ ุงูุฎุทูุงุช ุงูุชุงููุฉ

ุจุนุฏ ุฅุนุฏุงุฏ ุงููุดุฑ ุงูุชููุงุฆู:

- [ ] ุฅุนุฏุงุฏ SSL Certificate ูููููุน
- [ ] ุชูููู NGINX ููุฃุฏุงุก ุงูุฃูุซู
- [ ] ุฅุนุฏุงุฏ ูุฑุงูุจุฉ ุงูุฃุฏุงุก
- [ ] ุฅุถุงูุฉ ุงุฎุชุจุงุฑุงุช ุชููุงุฆูุฉ
- [ ] ุฅุนุฏุงุฏ ุจูุฆุฉ staging ูููุตูุฉ

**๐ ูุน GitHub Actionsุ ุฃุตุจุญ ุงููุดุฑ ุชููุงุฆูุงู ูุขููุงู!**